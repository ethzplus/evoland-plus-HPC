[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Evoland-HPC",
    "section": "",
    "text": "Preface\nThis is a guide and reference book for the Evoland-HPC pipeline. Evoland-HPC models future changes in the provision of ecosystem services under scenarios of climatic, socio-economic, land use change and alternative area-based conservation starategies. Evoland-HPC couples a land use land cover change (LULCC) model for Switzerland (Black et al. 2023, n.d.), state-of-the-art species distribution modelling (N-SDM) (Adde et al. 2023), and ecosystem service models (Kuelling and Adde, n.d.).\n\n\n\n\nAdde, Antoine, Pierre-Louis Rey, Philipp Brun, Nathan Külling, Fabian Fopp, Florian Altermatt, Olivier Broennimann, et al. 2023. “N-SDM : A High-Performance Computing Pipeline for Nested Species Distribution Modelling.” Ecography 2023 (6): e06540. https://doi.org/10.1111/ecog.06540.\n\n\nBlack, Benjamin, Antoine Adde, Olivier Broennimann, Daniel Farinotti, Antoine Guisan, Nathan Külling, Manuel Kurmann, et al. n.d. “Broadening the Horizon in Land Use Change Modelling: Normative Scenarios for Nature Positive Futures.”\n\n\nBlack, Benjamin, Maarten J. Van Strien, Antoine Adde, and Adrienne Grêt-Regamey. 2023. “Re-Considering the Status Quo: Improving Calibration of Land Use Change Models Through Validation of Transition Potential Predictions.” Environmental Modelling & Software 159 (January): 105574. https://doi.org/10.1016/j.envsoft.2022.105574.\n\n\nKuelling, Nathan, and Antoine Adde. n.d. “NCP Calculation Paper.”",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "This is a book created from markdown and executable code.\n\nMayer, Rabe, and Grêt-Regamey (2023), Black et al. (2023), Adde et al. (2023)\n\n\n\n\n\nAdde, Antoine, Pierre-Louis Rey, Philipp Brun, Nathan Külling, Fabian Fopp, Florian Altermatt, Olivier Broennimann, et al. 2023. “N-SDM : A High-Performance Computing Pipeline for Nested Species Distribution Modelling.” Ecography 2023 (6): e06540. https://doi.org/10.1111/ecog.06540.\n\n\nBlack, Benjamin, Maarten J. Van Strien, Antoine Adde, and Adrienne Grêt-Regamey. 2023. “Re-Considering the Status Quo: Improving Calibration of Land Use Change Models Through Validation of Transition Potential Predictions.” Environmental Modelling & Software 159 (January): 105574. https://doi.org/10.1016/j.envsoft.2022.105574.\n\n\nMayer, Paula, Sven-Erik Rabe, and Adrienne Grêt-Regamey. 2023. “Operationalizing the Nature Futures Framework for Ecological Infrastructure.” Sustainability Science, July. https://doi.org/10.1007/s11625-023-01380-7.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "structure.html",
    "href": "structure.html",
    "title": "2  Overview",
    "section": "",
    "text": "2.1 LULCC: Land Use Simulation\nCoupling the three models, we need to define how they depend on each other. Figure 2.1 shows the dependencies between the models.\nFrom this structure, a clear order of execution can be derived. For each of them there is a short description of the model.\nThe land use land cover change (LULCC) model for Switzerland (Black et al. 2023, n.d.) simulates the land use change in Switzerland from 2010 to 2060…\nLULCC depends on R, CRAN packages and Dinamica EGO.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Overview</span>"
    ]
  },
  {
    "objectID": "structure.html#n-sdm-species-distribution-modelling",
    "href": "structure.html#n-sdm-species-distribution-modelling",
    "title": "2  Overview",
    "section": "2.2 N-SDM: Species Distribution Modelling",
    "text": "2.2 N-SDM: Species Distribution Modelling\nThe species distribution modelling (N-SDM) (Adde et al. 2023) uses multiple approaches to determine species distribution maps for Switzerland…\nIt mainly uses Base-R. As N-SDM is built to be used with HPCs (high performance computers) , with bash scripts SLURM is used to submit jobs.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Overview</span>"
    ]
  },
  {
    "objectID": "structure.html#ncps-nature-contributions-to-people",
    "href": "structure.html#ncps-nature-contributions-to-people",
    "title": "2  Overview",
    "section": "2.3 NCPs: Nature Contributions to People",
    "text": "2.3 NCPs: Nature Contributions to People\nA range of NCPs are then estimated from the previous models outputs (Kuelling and Adde, n.d.)… Find a description of the NCP scripts in the NCPs folder.\nAdditionally to R and CRAN packages, InVEST is used via the Python modules natcap.invest.\nFocal…\nThe job of the Future-EI pipeline is to glue all pieces together for use on HPCs. For this, a batch job written in bash manages multiple climate scenarios and other parameters, while keeping track of the intermediate results. Such big batch job can be broken down onto steps from the diagram above, and parallelization through tasks with several cpus. As each step is different in requirements and execution, resources must be allocated accordingly. The most computationally expensive step is the N-SDM model. Further details will be given in the following sections.\n\n\n\n\nAdde, Antoine, Pierre-Louis Rey, Philipp Brun, Nathan Külling, Fabian Fopp, Florian Altermatt, Olivier Broennimann, et al. 2023. “N-SDM : A High-Performance Computing Pipeline for Nested Species Distribution Modelling.” Ecography 2023 (6): e06540. https://doi.org/10.1111/ecog.06540.\n\n\nBlack, Benjamin, Antoine Adde, Olivier Broennimann, Daniel Farinotti, Antoine Guisan, Nathan Külling, Manuel Kurmann, et al. n.d. “Broadening the Horizon in Land Use Change Modelling: Normative Scenarios for Nature Positive Futures.”\n\n\nBlack, Benjamin, Maarten J. Van Strien, Antoine Adde, and Adrienne Grêt-Regamey. 2023. “Re-Considering the Status Quo: Improving Calibration of Land Use Change Models Through Validation of Transition Potential Predictions.” Environmental Modelling & Software 159 (January): 105574. https://doi.org/10.1016/j.envsoft.2022.105574.\n\n\nKuelling, Nathan, and Antoine Adde. n.d. “NCP Calculation Paper.”",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Overview</span>"
    ]
  },
  {
    "objectID": "pipeline.html",
    "href": "pipeline.html",
    "title": "3  Pipeline",
    "section": "",
    "text": "The pipeline consists out of a SLURM batch job as structured in Figure 2.1. To refresh: a SLURM batch job consists out of one or more steps, each consisting out of one or more tasks, which of each can use one or more CPU cores.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Pipeline</span>"
    ]
  },
  {
    "objectID": "setup.html",
    "href": "setup.html",
    "title": "4  Setup",
    "section": "",
    "text": "4.1 Micromamba/Conda\nTo set up Future-EI for usage, you need to clone this repository, install the models used in Figure 2.1, and configure the local paths for inputs and parameters. For the bash script, environment variables are set in the src/config.yml file.\nFor some pipeline steps, we use conda environments. For this, we recommend using micromamba, it does the same thing as conda, but resolves dependencies much faster, with the flexibility of miniconda (only command line interface, no GUI). Find the installation instructions here. Using conda, the commands work the same, only micromamba needs to be replaced by conda. The given scripts identify the installed package manager, as can be found in src/bash_functions.sh.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Setup</span>"
    ]
  },
  {
    "objectID": "setup.html#dinamica-ego",
    "href": "setup.html#dinamica-ego",
    "title": "4  Setup",
    "section": "4.2 Dinamica EGO",
    "text": "4.2 Dinamica EGO\nDinamica EGO is available on the project website, but will be shipped in the LULCC docker image for simplicity. It can be automatically installed or built using the src/steps/10_LULCC/docker_setup.sh script, which uses variables from the src/config.yml file, and depends on the dinamica-ego-docker container. The script is compatible with docker and apptainer.\nFor a full description of the environments, see the environments:",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Setup</span>"
    ]
  },
  {
    "objectID": "setup.html#environments",
    "href": "setup.html#environments",
    "title": "4  Setup",
    "section": "4.3 Environments",
    "text": "4.3 Environments\nFor the steps in the pipeline, different environments and modules are required. These are collected in each step folder. For each, there are scripts to reproduce our used environment. To make all bash scripts in the source executable, give them the permission as follows:\n# possibly activate globstar: shopt -s globstar\nchmod +x src/**/*.sh\nAttention: When you set up the environments, make sure to use compatible versions of the same packages between the different steps, to ensure upward compatibility.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Setup</span>"
    ]
  },
  {
    "objectID": "setup.html#yaml-parser-yq",
    "href": "setup.html#yaml-parser-yq",
    "title": "4  Setup",
    "section": "4.4 Yaml Parser yq",
    "text": "4.4 Yaml Parser yq\nFor the bash scripts, we use yq to parse the yaml configuration file. yq needs to be available in the PATH variable of the shell. To install the latest version, run the following command:\nbin_dir=/usr/bin &&\\\nwget https://github.com/mikefarah/yq/releases/latest/download/yq_linux_amd64 -O $bin_dir/yq\nchmod +x $bin_dir/yq\nOther installation options and binaries can be found on the repository’s README. To make yq available in the PATH variable, make sure the $bin_dir is in the PATH variable. To check the parser is installed correctly, run yq --version in the shell. And to print contents of config.yml as idiomatic YAML to stdout, run yq -P -oy src/config.yml.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Setup</span>"
    ]
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "5  Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Summary</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Adde, Antoine, Pierre-Louis Rey, Philipp Brun, Nathan Külling, Fabian\nFopp, Florian Altermatt, Olivier Broennimann, et al. 2023.\n“N-SDM : A\nHigh-Performance Computing Pipeline for Nested Species\nDistribution Modelling.” Ecography 2023 (6):\ne06540. https://doi.org/10.1111/ecog.06540.\n\n\nBlack, Benjamin, Antoine Adde, Olivier Broennimann, Daniel Farinotti,\nAntoine Guisan, Nathan Külling, Manuel Kurmann, et al. n.d.\n“Broadening the Horizon in Land Use Change Modelling:\nNormative Scenarios for Nature Positive Futures.”\n\n\nBlack, Benjamin, Maarten J. Van Strien, Antoine Adde, and Adrienne\nGrêt-Regamey. 2023. “Re-Considering the Status Quo:\nImproving Calibration of Land Use Change Models Through\nValidation of Transition Potential Predictions.”\nEnvironmental Modelling & Software 159 (January): 105574.\nhttps://doi.org/10.1016/j.envsoft.2022.105574.\n\n\nKuelling, Nathan, and Antoine Adde. n.d. “NCP Calculation\nPaper.”\n\n\nMayer, Paula, Sven-Erik Rabe, and Adrienne Grêt-Regamey. 2023.\n“Operationalizing the Nature Futures Framework for\nEcological Infrastructure.” Sustainability Science,\nJuly. https://doi.org/10.1007/s11625-023-01380-7.",
    "crumbs": [
      "References"
    ]
  }
]